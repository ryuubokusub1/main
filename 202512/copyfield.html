<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Copy Blocks with TOC</title>
<style>
  :root{
    --bg:#0f1724;
    --panel:#0b1220;
    --accent:#7c3aed;
    --muted:#94a3b8;
    --fg:#e6eef6;
  }

  body{
    margin:0;
    padding:20px;
    background:linear-gradient(180deg,#041124 0%, #071032 100%);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",sans-serif;
    color:var(--fg);
  }

  /* ç›®æ¬¡ */
  #toc{
    background:rgba(255,255,255,0.05);
    padding:16px;
    border-radius:10px;
    margin-bottom:30px;
  }
  #toc h2{
    margin-top:0;
  }
  #toc a{
    color:#a5b4fc;
    text-decoration:none;
  }
  #toc a:hover{
    color:white;
  }

  /* ãƒ–ãƒ­ãƒƒã‚¯æœ¬ä½“ */
  .block{
    background:rgba(255,255,255,0.04);
    border-radius:10px;
    padding:16px;
    margin-bottom:20px;
    box-shadow:0 4px 20px rgba(2,6,23,0.45);
  }

  .block-title{
    font-weight:bold;
    margin-bottom:8px;
    font-size:16px;
    color:var(--fg);
  }

  .copy-btn{
    background:rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.08);
    padding:6px 12px;
    border-radius:8px;
    color:var(--muted);
    cursor:pointer;
    transition:0.2s;
    margin-bottom:10px;
  }
  .copy-btn:hover{
    color:white;
    background:rgba(124,58,237,0.35);
  }

  textarea{
    width:100%;
    height:160px;
    background:var(--panel);
    color:var(--fg);
    border:1px solid rgba(255,255,255,0.1);
    border-radius:8px;
    padding:12px;
    font-size:14px;
    line-height:1.5;
    resize:vertical;
    box-sizing:border-box;
    font-family:ui-monospace,Menlo,monospace;
  }

/* textarea ã®è¦‹ãŸç›®ã‚’ input ã«ã‚‚å®Œå…¨é©ç”¨ã™ã‚‹ */
input.code-field {
  width: 100%;
  height: 45px; /* 1è¡Œã®é«˜ã•ï¼ˆãŠå¥½ã¿ã§èª¿æ•´å¯ï¼‰ */
  background: var(--panel);
  color: var(--fg);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px;
  padding: 12px;
  font-size: 14px;
  line-height: 1.5;
  box-sizing: border-box;
  font-family: ui-monospace, Menlo, monospace;
  min-height: calc(14px * 1.5 + 24px); /* è¡Œé«˜ + padding */
}

  .to-top{
    margin-top:10px;
    display:inline-block;
    padding:6px 12px;
    background:rgba(255,255,255,0.05);
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.08);
    border-radius:8px;
    text-decoration:none;
    transition:0.2s;
  }
  .to-top:hover{
    color:white;
    background:rgba(124,58,237,0.35);
  }
</style>
</head>
<body>

<!-- ãƒˆãƒƒãƒ—ã¸ã®ã‚¢ãƒ³ã‚«ãƒ¼ -->
<div id="top"></div>

<!-- ğŸ”½ ç›®æ¬¡ï¼ˆã“ã“ã«è‡ªåˆ†ã§é …ç›®ã‚’è¿½åŠ ã—ã‚„ã™ã„ï¼‰ -->
<div id="toc">
  <h2>ç›®æ¬¡</h2>
  <ul>

  </ul>
</div>

<!-- â–¼â–¼â–¼--- ãƒ–ãƒ­ãƒƒã‚¯æœ¬ä½“ï¼ˆå¥½ããªã ã‘è¤‡è£½å¯èƒ½ï¼‰ ---â–¼â–¼â–¼ -->

<!--â–¼â–¼ã“ã“ã‹ã‚‰â–¼â–¼-->
<div class="block" id="double_blade">
  <div class="block-title">å •ç¥_2ç”»é¢</div>
  <h5>å®šç¾©</h5>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea>
//â–¼â–¼=====blade=====â–¼â–¼
var btime=0
func double_blade()
 ?item.GetCooldown("blade")<=0
  ?foe.distance<20
   Screen.Next()
   btime++
  ?btime>25
   equip blade
   activate R
   btime=0
   Screen.ResetOffset()
//â–²â–²=====blade=====â–²â–²
  </textarea>
  <br>
  <br>
  <h5>å‘¼ã³å‡ºã—</h5>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
<textarea>double_blade()</textarea>

  <a class="to-top" href="#top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ â†‘</a>
</div>
<!--â–²â–²ã“ã“ã¾ã§â–²â–²-->


<div class="block" id="func-sample">
  <div class="block-title">é–¢æ•°ã®ä¾‹</div>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea>
// block #2
function greet(name){
  return "Hello, " + name;
}
  </textarea>
  <br>
  <a class="to-top" href="#top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ â†‘</a>
</div>

<div class="block" id="link-sample">
  <div class="block-title">ãƒªãƒ³ã‚¯ã®ä¾‹</div>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea>
// block #3
Here is a URL â†’ https://example.com
  </textarea>
  <br>
  <a class="to-top" href="#top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ â†‘</a>
</div>
<!-- â–²â–²â–²--- ã“ã“ã¾ã§è¤‡è£½å¯èƒ½ ---â–²â–²â–² -->

<!--â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆã‚³ãƒ”ãƒ¼ç”¨â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ-->
<!--â–¼â–¼ã“ã“ã‹ã‚‰â–¼â–¼-->
<div class="block" id="â–ˆã‚³ãƒ”ãƒ¼ç”¨â–ˆ">
  <div class="block-title"> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ </div>
  <h5>å®šç¾©</h5>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea>
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
  </textarea>
  <br>
  <br>
  <h5>å‘¼ã³å‡ºã—</h5>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ </textarea>
  <a class="to-top" href="#top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ â†‘</a>
</div>
<!--â–²â–²ã“ã“ã¾ã§â–²â–²-->

<!--â–¼â–¼ã“ã“ã‹ã‚‰â–¼â–¼-->
<div class="block" id="â–ˆã‚³ãƒ”ãƒ¼ç”¨â–ˆ">
  <div class="block-title"> â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ </div>
  <button class="copy-btn" onclick="copyText(this)">ã‚³ãƒ”ãƒ¼</button>
  <textarea>
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
  </textarea>
  <br>
  <a class="to-top" href="#top">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ â†‘</a>
</div>
<!--â–²â–²ã“ã“ã¾ã§â–²â–²-->
<!--â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆã‚³ãƒ”ãƒ¼ç”¨â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ-->

<script>
// --- ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½ï¼ˆæ—¢å­˜ï¼‰ ---
function copyText(btn){
  const field = btn.nextElementSibling; // textarea ã¾ãŸã¯ input

  if (field.tagName === "TEXTAREA") {
    field.select();
  } else {
    field.select();
  }

  navigator.clipboard.writeText(field.value).then(()=>{
    btn.textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼";
    setTimeout(()=> btn.textContent="ã‚³ãƒ”ãƒ¼", 1200);
  });
}


// --- ğŸ”½ ç›®æ¬¡ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ---
document.addEventListener("DOMContentLoaded", () => {
  const tocList = document.querySelector("#toc ul");
  tocList.innerHTML = "";  // æ—¢å­˜ã® li ã‚’æ¶ˆã™

  document.querySelectorAll(".block").forEach(block => {
    const id = block.id;
    const title = block.querySelector(".block-title")?.textContent || id;

    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = "#" + id;
    a.textContent = title;

    li.appendChild(a);
    tocList.appendChild(li);
  });
});
// --- ğŸ”½ textarea ã‚’ 1è¡Œãªã‚‰ input ã«è‡ªå‹•å¤‰æ› ---
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll(".block textarea").forEach(textarea => {
    const lines = textarea.value.trim().split("\n");

    // 1è¡Œã ã‘ãªã‚‰ input ã«å¤‰æ›
    if (lines.length === 1) {
      const input = document.createElement("input");
      input.type = "text";
      input.value = lines[0];

      // textarea ã®ã‚¯ãƒ©ã‚¹ã‚’å¼•ãç¶™ãã¤ã¤ã€code-field ã‚’æ˜ç¤ºçš„ã«ä»˜ã‘ã‚‹
      input.className = textarea.className + " code-field";

      textarea.replaceWith(input);
    }
  });
});
document.querySelectorAll(".block textarea").forEach(t => {
  t.setAttribute("readonly", true);
});

</script>

</body>
</html>
